velero:
  enabled: true
  credentials:
    useSecret: true
    secretContents:
      cloud: |
        AZURE_STORAGE_ACCOUNT_NAME: {{ .Values.global.cloud_storage_access_key }}
        AZURE_STORAGE_ACCOUNT_KEY: {{ .Values.global.cloud_storage_secret_key }}
  configuration:
    backupStorageLocation:
      - name: default
        provider: "azure"
        bucket: backups
        config:
          storageAccount: 
          storageAccountKeyEnvVar: AZURE_STORAGE_ACCOUNT_KEY
    volumeSnapshotLocation:
      - name: default
        provider: "azure"
  schedules:
    edcluster-backup:
      disabled: false
      schedule: "0 0 * * *"
      useOwnerReferencesInBackup: false
      template:
        ttl: "240h"
        includedNamespaces:
          - "sunbird"
        snapshotVolumes: true  

# This section is for the Velero configuration for database backup. To enable DB backup, set disabled to false
    database-backup:
      disabled: true
      schedule: "0 0 * * *"
      useOwnerReferencesInBackup: false
      template:
        ttl: "240h"
        includedNamespaces:
          - "sunbird"
        labelSelector:
          matchExpressions:
            - key: app.kubernetes.io/name
              operator: In
              values:
                - cassandra
                - neo4j
                - redis
                - postgresql
        snapshotVolumes: true